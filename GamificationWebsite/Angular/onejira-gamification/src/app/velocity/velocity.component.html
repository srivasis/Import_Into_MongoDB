<div *ngIf="dataSource|async; let velocity; else loading" class="velocity-container">
  <mat-grid-list cols="4" rowHeight="80vh" gutterSize="5px">
    <mat-grid-tile [colspan]=3>
      <mat-card
        style="width: 90%; height: 90%; box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.3)">
        <canvas baseChart [datasets]="chartData" [labels]="chartLabels" [options]="chartOptions" [legend]="chartLegend"
          [chartType]="chartType"></canvas>
      </mat-card>
    </mat-grid-tile>

    <mat-grid-tile [colspan]=1>
      <mat-card
        style="width: 90%; height: 90%; box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.3)">
        <mat-list>
          <mat-list-item style="font-size: 13px">Overall Average Committed: {{velocity.avgCommit}}</mat-list-item>
          <mat-list-item style="font-size: 13px">Overall Average Completed: {{velocity.avgComplete}}</mat-list-item>
          <mat-list-item style="font-size: 13px">Last 3 Sprints Average Committed: {{velocity.avgCommitThreeSprints}}
          </mat-list-item>
          <mat-list-item style="font-size: 13px">Last 3 Sprints Average Completed: {{velocity.avgCompleteThreeSprints}}
          </mat-list-item>
          <mat-list-item style="font-size: 13px">Consistency: {{velocity.consistency}}%</mat-list-item>
        </mat-list>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
<ng-template #loading>
  <mat-spinner style="margin:25% auto;"></mat-spinner>
</ng-template>
